---
layout: layouts/page.njk
tags:
  - nav
navtitle: Guides
title: Anatomie du clavier
img: bg-page.jpg
---


La plupart des claviers sont construits de la façon suivante : les switches, chacun surmonté d'une touche (keycap), sont montés sur une plaque (plate en anglais), la plupart du temps en acier, plus rarement en aluminium ou en plastique, dans laquelle des découpes sont effectuées pour y insérer les switchs. L'ensemble est placé sur un PCB (circuit imprimé) sur lequel se trouve l'électronique nécessaire à son fonctionnement (diodes, résistances, LEDs, microcontrôleur et sortie USB). L'ensemble est ensuite placé dans un châssis, la plupart du temps en plastique (ABS, parfois recouvert d'un revêtement "peau de pêche" ), parfois en aluminium ou acrylique dans le cas de séries spéciales.

La construction avec plaque (plate-mounted switches) confère une plus grande rigidité au clavier, ainsi qu'une plus grande stabilité du fait du poids qu'elle ajoute. Elle impose de dessouder les switchs du PCB en cas de modifications sur ceux-ci (à moins qu'elle ne prévoie des découpes pour une extraction facilitée des switchs, on parle alors de notched plate) et tend à accentuer le bruit produit par la frappe (la construction du châssis peut également participer à cet effet de résonance). La construction sans plaque (PCB-mounted switches), moins rigide, favorise une sensation de frappe plus souple et permet d'ouvrir les switchs sans les dessouder. La très grande majorité des claviers mécaniques utilisent une plaque, les claviers avec PCB seul sont bien moins courants.

Plus d'informations sur le montage des switchs : [wiki Deskthority]

## Touches / Keycaps

Les touches ont une certaine importance : elles sont l'interface entre nos doigts et les switchs , et influent tout autant que ces derniers sur la sensation de frappe. Leur matériau et la façon dont les légendes sont inscrites déterminent leur durabilité.

### Matériaux

On distingue principalement trois types de plastiques utilisés pour la fabrication de touches pour claviers mécaniques : l'ABS, le PBT et le POM.

#### ABS

L'ABS (acrylonitrile butadiène styrène) est le matériau le plus commun, disponible en plusieurs épaisseurs ; les touches en ABS fin sont les plus faciles (et les moins chers) à fabriquer, et donc les plus répandues. Les touches en ABS fin offrent la sensation de frappe la plus basique (la moins valorisée), tandis que celles en ABS épais sont en général d'une qualité supérieure et sont plus appréciées du fait de la sonorité plus sourde qu'elles confèrent à la frappe. Une critique récurrente à l'encontre des touches en ABS concerne leur tendance à "briller", en fait à voir leur texture se lisser du fait du contact répété avec les doigts, ce qui peut donner au bout de quelques mois (quelques semaines dans le pire des cas) l'impression désagréable que leur surface est grasse en permanence.

Leurs légendes peuvent être pad-printed, laser-etched/engraved, doubleshot ou uv-printed (voir plus bas). A de très rares exceptions près, les touches en ABS fin sont les seules à permettre d'avoir des légendes rétroéclairées, ce qui oblige l'utilisateur à devoir choisir entre avoir des légendes rétroéclairées ou des touches de qualité.

![](http://reho.st/preview/self/0128adf46bd2dfad3acf0f5b11d06e5918a46725.png)

ABS fin rétroéclairé (Ducky), ABS épais doubleshot (Cherry), ABS fin doubleshot (Signature Plastics)

#### PBT

Le PBT (polybutylène téréphtalate) est moins répandu car plus cher du fait d'un processus de fabrication plus délicat que pour l'ABS. Il a l'avantage d'être bien plus résistant à l'usure, ce qui lui permet, grâce à sa texture légèrement granuleuse au toucher, de ne pas être affecté par le phénomène de "brillance" propre à l'ABS plus lisse (ou de façon très marginale, et après une période d'utilisation bien plus longue). Les touches PBT sont parfois disponibles en PBT fin, mais plus souvent en PBT épais, qui sont plus appréciées du fait de la sonorité plus sourde qu'elles confèrent au clavier.

Les légendes peuvent être dyesub ou laser-etched/engraved, le doubleshot est possible mais bien moins aisé à fabriquer (le PBT tend à se rétracter en se refroidissant, son moulage est plus contraignant que l'ABS) donc moins répandu.

![](http://reho.st/self/78f93a745b905645290bf9ae9e94118c169a05a2.png)

PBT épais laser-etched (Leopold)

#### POM

Le POM (polyoxyméthylène, connu aussi sous le nom d'acétal ou de Delrin) est utilisé plus rarement encore que le PBT. Il offre une sensation de frappe sourde similaire au PBT tout en ayant une surface très lisse qui le rend semblable au toucher à de l'ABS usé, ce qui ne l'empêche pas d'être apprécié par certains utilisateurs. Les légendes sont en général laser-engraved.

D'autres plastiques peuvent être utilisés, comme le PVC, utilisé abondamment par Dell, HP, Logitech et d'autres. Par ailleurs, certaines touches peuvent être réalisés en petite série en résine, en bois, voire en métal (zinc notamment), qui valent plus pour leur esthétique que pour leur apport à la sensation de frappe.

### Légendes

Les légendes (lettres, symboles...) peuvent être inscrites sur les touches de diverses façons, certaines plus économiques et souvent moins durables, d'autres plus coûteuses donc moins fréquentes mais plus pérennes. On peut distinguer les techniques suivantes :

#### Pad Printing

Pad printing : c'est la solution la moins chère et la plus fréquente : de l'encre est simplement appliquée sur la surface de la touche, parfois protégée par un point de vernis qui fait ressembler l'ensemble à une décalcomanie. C'est la méthode de marquage la plus répandue sur les claviers à dômes ou ciseaux (et qu'on trouve également sur des claviers mécaniques, par exemple chez Filco, qui vernit toute la surface de la touche), qui a pour défaut d'être la plus fragile (susceptible à l'usure) et de se sentir sous les doigts.

#### Dye Sublimation

Dye sublimation : impression réalisée à très haute température qui donne une légende imprimée en profondeur dans la touche, qui est donc inusable et insensible au toucher. La très haute température requise pour cette opération la rend impraticable sur de l'ABS, dont la température de fusion est inférieure à celle du PBT, qui est donc le seul matériau à bénéficier de cette technique. Par ailleurs, ce procédé ne peut produire une légende de couleur plus claire que la touche : les légendes doivent obligatoirement être plus foncées que celles-ci, ce qui limite les schémas de couleurs possibles. On peut noter cependant que certains fabricants proposent maintenant un procédé d'impression inversée (reverse dye-sub) qui colore non pas la légende mais la surface de la touche qui l'entoure, ce qui permet d'avoir une légende plus claire que le reste de la touche et autorise des schémas de couleurs jusque-là inédits avec cette méthode d'impression.

#### Doubleshot

Doubleshot ou "doubleshot injection molding", moulage à double injection : chaque touche est réalisée en deux temps, en premier lieu la légende est moulée avec une armature, puis le reste de la touche est moulé par-dessus (démonstration en vidéo). La légende ainsi moulée dans l'épaisseur de la touche est inusable et insensible au toucher. Ce procédé est généralement effectué sur de l'ABS (fin ou épais), s'étend depuis quelques années au PBT, et permet n'importe quelle combinaison de couleurs pour la touche et la légende.

#### Laser Engraving

Laser engraving : les légendes sont gravées au laser, parfois laissées telles quelles (et donc très discrètes), parfois remplies d'encre dont la couleur contraste avec celle de la touche, qui peut se décolorer au fil du temps. On parle alors de touche "engraved & infilled".

#### Laser Etching

Laser etching : un autre type de marquage au laser qui ne grave pas la légende, mais chauffe suffisamment la surface de la touche pour changer sa couleur et parfois sa texture. Le procédé permet de créer des légendes gris foncé sur des touches claires, ou des légendes gris clair sur des touches foncées. La couleur des légendes ainsi produites est moins contrastée que ce que d'autres procédés permettent d'obtenir, et la durabilité varie d'un fabricant à un autre.

#### UV Printing

UV printing : une impression à très haute résolution sur les touches, qui sont ensuite recouvertes d'un vernis séchant aux UV. C'est une méthode assez peu répandue, et dont les résultats (vibrance des couleurs, altération de la texture du matériau et durabilité) varient selon les fabricants. Par ailleurs, elle ne semble actuellement proposée que sur de l'ABS fin, ce qui peut expliquer le manque d'intérêt pour cette technique dès lors qu'elle n'est pas réalisée sur de touches de qualité.

#### UV Coating

UV coating : au sens strict, c'est l'application d'un vernis séchant aux UV comme étape de finition/protection. Dans le jargon des fabricants et vendeurs, c'est une caractéristique de certaines touches rétroéclairées : les touches sont réalisées en plastique translucide, peintes, puis les légendes sont gravées au laser pour révéler le plastique translucide qui laissera passer le rétroéclairage. La surface de la touche est ensuite protégée par un vernis UV comme décrit plus haut. A de très rares exceptions près, les touches rétroéclairées sont réalisées uniquement en ABS fin, et leur surface peinte + vernie leur confine une texture plus lisse que de l'ABS classique (et donc la sensations que la surface est grasse, ce qui est souvent perçu comme un défaut).

Plus d'informations et de photos sur le [wiki Deskthority]

### Profile

Toutes les touches n'ont pas la même forme : leur hauteur ou leur angle (autrement dit leur profil) ont une certains incidence sur les sensations et le confort de la frappe. Par ailleurs toutes les touches d'un même profil ne sont donc pas interchangeables : chaque rangée a souvent une forme différente (hauteur et angle), qui permet d'étager le sommet de chaque rangée à partir de switchs alignés sur le même plan :

![](http://reho.st/medium/self/40fe3569953bb3219d50ad96cbb99c6123e0b85e.jpg)

• le profil OEM (en photo ci-dessus) est de très loin le plus courant, on le retrouve sur la quasi totalité de la production de claviers, quel que soit le type de switch utilisé. Les touches sont considérées comme moyennement hautes, ont un sommet cylindrique, et confèrent une courbure moyenne au clavier.

• le profil Cherry : initialement limité aux claviers Cherry et aux touches fabriquées par GMK (qui a racheté une partie de l'appareil de production de Cherry), il est aujourd'hui également copié par certains fabricants asiatiques (Gateron/EnjoyPBT notamment, et tous ceux qui indiquent "Cherry profile" sur leurs fiches produits). Le profil Cherry est un peu plus bas que l'OEM, la courbure est similaire et le sommet des touches également cylindrique.

• le Stepsculpture 2 : très proche du profil Cherry, utilisé majoritairement sur les claviers Leopold, certains Varmilo (qui a acquis l'outillage lorsque sous-traitant pour Leopold) et claviers à switchs Topre

• le profil DCS de Signature Plastics est également proche du profil Cherry, disponible pour les switchs MX.

• le profil SA de Signature Plastics est un profil très haut dont le sommet des touches est sphérique.

• le profil DSA de Signature Plastics est un profil bas, également de type sphérique, et plat (tous les rangs sont de la même hauteur), ce qui le rend très adapté aux dispositions non-standard (ErgoDox, ...).

• le profil XDA, de conception récente, partage les caractéristiques du DSA mais les parois de la touche sont plus épaisses. Plus de détails : https://www.massdrop.com/talk/887/x [...] ap-profile

![](http://reho.st/self/e92f97366dd1154d87356156c90c0ada3e1169fc.png)

Enfin, certains claviers ont un profil identique sur chaque rangée et utilisent une plaque courbe pour donner son inclinaison au clavier, comme les claviers à buckling spring d'IBM (approximation) :

![](http://reho.st/self/3d56e244bcab8289d44702bb5d253b95865c97b0.png)

Photos des différents profils par Jacobolus sur [Geekhack] (plus de profils visibles dans le lien)
Plus de détails sur l'identification des rangs : [wiki Deskthority]

### La monture

La monture d'une touche est sa partie qui lui permet d'être fixée sur le switch. Chaque type de switch a sa propre monture, il est donc par exemple impossible d'installer des touches avec monture Cherry MX sur un IBM Model M (switch à buckling spring).

On peut occasionnellement trouver des adaptateurs pour utiliser un certain type de touche sur un switch d'un type différent, souvent au prix de compromis (hauteur de l'ensemble plus importante, moindre stabilité des touches) qui rendent la production de tels adaptateurs peu fréquente et peu attractive.

Une solution plus aboutie mais plus coûteuse consiste à modifier un switch pour lui permettre d'y adapter des touches d'un type différent : quelques fabricants ont commencé à proposer des claviers Topre compatibles avec les touches pour Cherry MX (et qui sont en conséquence incompatibles avec les touches pourvues de monture Topre), tendance qui pourrait se poursuivre avec d'autres types de touches , la compatibilité avec l'écosystème Cherry MX étant désirable en raison du nombre de keysets disponibles pour cette monture.

Plus d'informations et de photos : [wiki Deskthority]

### Remplacer ses touches

On peut enlever ou remplacer les touches de la plupart des claviers mécaniques, mais c'est pour ceux pourvus de Cherry MX que l'offre est la plus vaste. L'offre est bien plus limitée pour les autres types de switchs : Unicomp est le seul vendeur à proposer des touches neuves pour claviers Buckling Spring, Realforce a cessé la fabrication de keysets pour switches Topre, et Matias est le seul à vendre des touches compatibles avec les switchs Alps. Pour ces types de switchs, le marché de l'occasion est souvent la source la plus intéressante.

Par ailleurs, la disposition des touches du clavier a une importance particulière : la plupart des keysets vendus sont prévus pour s'adapter à un clavier ANSI en disposition "standard", calquée sur celle des Filco Majestouch, dont voici une représentation en version ANSI (les touches de la partie droite du clavier, non représentées, ne sont que très rarement sujettes à variation) :

![](https://i.imgur.com/3Thh0YY.png)

Ce qui définit cette disposition comme "standard" est la taille des touches du rang inférieur : trois touches de 1,25u, une barre espace de 6.25u et quatre autres touches de 1,25u. La disposition suivante est considérée comme non-standard de par la différence de taille des touches du même rang (modifieurs de 1, 1,25 et 1,5u, barre espace de 6,5u) qui empêche d'y utiliser des touches standard (1,25u et 6,25u) :

![](https://i.imgur.com/Vvgl7FU.png)

La même règle s'applique pour les claviers ISO, la plupart des rares keysets ISO de remplacement ayant la même disposition du rang inférieur (en plus de disposer des touches propres à l'ISO). Un clavier ISO avec un rang inférieur non-standard cumule par contre les handicaps, et il sera très compliqué de remplacer ses touches par un keyset homogène.

Outre l'occasion, il y a deux façons de se procurer des touches de claviers : l'achat d'un set dans le commerce, et les commandes groupées de membres d'un forum auprès d'un fabricant. Les keysets disponibles en vente directe sont ceux qui offrent le moins d'options : la quasi-totalité des sets sont au format standard sans touches supplémentaires pour s'adapter à des variations de layout, et la très grande majorité d'entre eux n'est disponible qu'en ANSI ; les rares keysets disponibles en ISO sont soit blank (sans légendes), soit avec des légendes anglaises ou nordiques, l'azerty étant quasiment inexistant.

L'élaboration de keysets par des membres de forums et leur fabrication sur demande par les fabricants permet de prévoir des touches supplémentaires pour s'adapter à des variations de layouts, si celles-ci sont assez populaires. Par ailleurs, ces commandes permettent de se procurer des keysets très différents de ce qu'on trouve dans le commerce, que ce soit au niveau des matériaux utilisés, du profil des touches, de la méthode d'impression des légendes ou des couleurs utilisées ; ils sont donc souvent l'occasion de se procurer un keyset unique.

## Design Electrique

Pour comprendre certaines notions vantées par les fabricants de claviers comme l'antighosting ou le NKRO, il faut comprendre la façon dont un clavier fonctionne. Pour l'essentiel, un clavier est composé d'interrupteurs (switchs, un pour chaque touche) et d'un microcontrôleur qui sert de passerelle entre les touches et le pc : lorsque l'utilisateur appuie sur une touche, le microcontrôleur détecte cet appui et envoie via le port USB ou PS/2 le caractère correspondant (plus précisément le scancode) à l'OS qui l’interprète en fonction du layout choisi dans les options de langue.

Il faut donc que chaque switch soit relié au microcontrôleur, qui doit a priori disposer d'une centaine d'entrées/sorties. Or, dans le petit monde des microcontrôleurs, plus on a d'entrées/sorties, plus on est gros et puissant, et donc cher, et les contrôleurs disposant de suffisamment d'e/s pour un clavier sont inutilement puissants et chers. Pour pouvoir relier un grand nombre de switchs à un contrôleur disposant d'un nombre réduit d'e/s (typiquement 32 ou 48), on a donc recours à un arrangement en matrice :

![](http://reho.st/self/296318ff74fad0820e81fb5401ee9c5bd729be1b.png)

Ici, pour connecter 30 switchs, on a besoin non pas de 30 entrées/sorties mais de 13, réparties en 10 colonnes et 3 lignes. Par extension, pour un clavier de 105 touches, 21 e/s suffiront, réparties en 11 colonnes et 10 lignes (qui seront arrangées sur le PCB de façon à se conformer à la disposition voulue des touches).

Si cet arrangement en matrice permet d'économiser le nombre d'entrées/sorties du contrôleur, elle pose néanmoins d'autres problèmes, et c'est là qu'intervient notamment la notion de ghosting.

### Ghosting et frappe fantôme

Dans une matrice, comme plusieurs touches partagent un lien (ligne ou colonne) vers le microcontrôleur, celui-ci peut interpréter la pression des switchs de façon erronée lorsque trois switchs adjacents (ou plus) ayant un colonne et une ligne en commun sont pressés.

![](http://reho.st/gif/33bba91d42b0cc589422918c98d3e59a11e244cf.gif)

Dans ce schéma, les cas 1, 2, 3 et 4 ne posent pas de problèmes : le contrôleur active chaque colonne une par une en y envoyant un courant et vérifie pour chacune sur quelles lignes celui-ci ressort (cette opération réalisée successivement sur l'ensemble des colonnes constitue un scan de la matrice, qui est réalisé plusieurs centaines de fois par secondes), et est capable de différencier chacune des touches pressées simultanément.

Dans le cas numéro 5, du fait de l'agencement électrique des touches, la pression de F, G et B conduit le courant (qui circule librement dans n'importe quelle direction tant qu'il y a continuité électrique) à passer par V et donc le contrôleur à détecter de façon erronée un appui sur cette touche. C'est cette détection d'un appui inexistant qu'on appelle ghosting.

### Anti-ghosting : blocking et solutions

Pour éviter ce problème, plusieurs solutions se présentent ; la plus répandue consiste à programmer le contrôleur pour qu'il bloque la prise en compte d'une troisième frappe dans la configuration décrite ci-dessus : ce blocage, qu'on appelle ghosting par abus de langage, est en fait du jamming ou blocking ; il est la conséquence de la propension d'une matrice à produire du ghosting (d'où la confusion fréquente entre les termes), et la cause de la limitation à deux appuis simultanés (le 2KRO, 2-key rollover) sur bon nombre de claviers pour empêcher ce problème de se produire. On notera que techniquement parlant, un clavier peut donc avoir recours au blocage de touches comme mesure anti-ghosting, alors que la dénomination marketing "anti-ghosting" est couramment utilisée pour désigner un clavier qui n'en bloque pas...

Certains constructeurs choisissent de réaliser des matrices plus complexes ou de multiplier les liaisons différenciées entre groupes de switchs et contrôleur pour réduire au maximum les possibilités de ghosting (et donc la nécessité de bloquer les touches) : on parle souvent de matrices "typing optimized" ou "game optimized" (optimisées pour la frappe ou les jeux), qui restent souvent une solution sub-optimale dans la mesure où elles ne font souvent que déplacer le problème sur des combinaisons de touches moins fréquemment utilisées. Faute de mieux, c'est une solution plus acceptable qu'un blocage dès trois touches.

La solution la plus aboutie consiste à adjoindre une diode à chaque switch : dans la mesure où une diode ne permet au courant de passer que dans un seul sens, elle lui évite de "remonter" dans un switch adjacent et de produire une frappe fantôme. Une matrice comprenant une diode par switch élimine au niveau hardware toute possibilité de ghosting, rend donc inutile le jamming software comme mesure de protection, et permet donc un nombre d'appuis simultanés illimité (on parle de NKRO, n-key rollover).

Cette solution à base de diodes n'est possible que sur un clavier doté d'un circuit imprimé (pcb) sur lequel sont présents les pistes de cuivre constituant la matrice, les diodes et les switchs ; un clavier à membrane étant précisément constitué de plusieurs membranes souples en lieu et place d'un pcb, le recours aux diodes est impossible : c'est la raison pour laquelle les claviers à membrane n'ont que le blocking pour recours et sont la plupart du temps 2KRO (sauf dans le cas peu fréquent de matrices spéciales).

![](https://i.imgur.com/8KU3Bgv.png)

L'envers d'un PCB de clavier, avec une diode (en orange) par switch.

On notera enfin que ces problèmes de ghosting et de jamming ne concernent que les claviers où la prise en compte d'un appui repose sur un contact électrique (via un switch à contact comme le Cherry MX ou une membrane) ; de par leur fonctionnement sans contact, les claviers à switchs électro-capacitifs de Topre ou les vénérables switchs Honeywell à effet Hall ne présentent pas ce problème et n'ont pas besoin de solution software ou hardware particulière pour le contourner.

### x-Key rollover & appuis simultanés

Le nombre de touches pouvant être prises en compte simultanément dépend de deux facteurs : le design de la matrice du clavier, et le mode de transmission des données, qui est souvent déterminé par sa connexion. Pour l'exprimer, on parle de rollover, et plus spécifiquement de x-key rollover, x désignant le nombre de touches pouvant être prises en compte simultanément. La plupart du temps, les modifieurs (ctrl, alt, shift) ne sont pas pris en compte dans ce chiffre. Pour récapituler ce qui a été détaillé plus haut sur le rollover permis par les différentes matrices :

• 2KRO : clavier reposant sur une matrice assurant qu'au moins deux touches seront toujours prises en comptes en tout point du clavier, parfois pas plus, et parfois plus en fonction de leur position ; ce sont principalement les claviers à membranes, et plus généralement tous les claviers dont la matrice n'utilise pas de diodes pour isoler électriquement les switchs et prévenir les problèmes de ghosting.

• NKRO : clavier reposant sur une matrice permettant au niveau hardware d'éviter le ghosting (via l'utilisation de diodes ou de switchs sans contact) et donc le blocage des touches ; la plupart des claviers mécaniques sont NKRO lorsque connectés en PS/2, certains le sont également en USB.

• 6KRO : les claviers dont la matrice permet au niveau hardware d'éviter le ghosting, mais dont la transmission des données est limitée à six touches au plus en simultané (plus les modifieurs) du fait du protocole USB utilisé (voir plus bas).

• xKRO : lorsque x n'est ni 2, ni 6, ni N, on a affaire soit à une matrice complexe, soit à un clavier 6KRO dont le firmware est programmé pour tricher et faire reconnaître plus de 6 touches sans pour autant permettre le NKRO.

### USB & PS/2

Bien qu'étant toutes deux des interfaces série prévues pour utiliser notamment clavier et souris, les interfaces PS/2 et USB se différencient sur un certain nombre de points.

#### Rollover

L'interface PS/2 ne limite pas le nombre d'appuis transmissible simultanément, autrement dit elle autorise le NKRO si le design électrique du clavier le permet (cf. plus haut).

Le cas de l'USB est plus complexe : un clavier USB (défini par la spécification USB HID, Human Interface Device) est censé pouvoir fonctionner en deux modes (ou protocoles), le premier pour être détectable par un BIOS ou n'importe quel bootloader (le boot protocol), le second qui est actif une fois l'OS lancé (le regular protocol). Pour des questions de compatibilité et de simplicité de code, le boot protocol limite les transmissions à 6 touches (plus les modifieurs), tandis que le protocole normal autorise la transmission d'un nombre illimité d'appuis simultanés. Autrement dit, le boot protocol limite un clavier USB au 6KRO, et le passage au protocole normal sous l'OS autorise le NKRO.

En pratique, de multiples problèmes se posent :

- certains fabricants de claviers implémentent un protocole normal identique au boot protocol, limitant leur clavier au 6KRO en toutes circonstances, soit pour simplifier le code du firmware du clavier, soit parce que...

* certains BIOS sont mal codés et, partant du principe que tous les claviers fonctionnent en boot protocol, ne demandent pas explicitement au clavier de passer en boot protocol, ce qui les empêche de recevoir les appuis d'un clavier capable de NKRO qui ne passera donc pas en boot protocol au démarrage du pc, le rendant inopérant.

- certains fabricants de claviers contournent ce problème en programment leur clavier pour qu'il simule un hub USB auquel sont connectés plusieurs claviers : le BIOS ne verra que les 6 premiers caractères, mais le clavier fonctionnera en NKRO sous l'OS. Ce procédé n'est pas sans poser problème, notamment sous OS X où les claviers fonctionnant ainsi ne sont pour la plupart pas reconnus.

* enfin, certains fabricants proposent un switch pour alterner manuellement entre 6KRO et NKRO pour permettre ce dernier tout en ayant la possibilité d'être compatible avec un BIOS mal codé.

Il n'y a donc pas de meilleure solution : s'il est souhaitable de pouvoir utiliser son clavier en NKRO si sa conception ne permet, les cas où un utilisateur sera limité par le 6KRO (6 touches + modifieurs) sont somme toute peu courants et ce dernier mode est le seul permettant de communiquer avec son pc avant d'arriver dans l'OS. Un clavier USB permettant de choisir 6KRO ou NKRO représente la solution la plus flexible, mais elle n'est pas pour autant indispensable.

#### Transmission des données

Une autre différence notable entre PS/2 et USB réside dans leur façon de transmettre les données: l'USB fonctionne en attente active (polling), alors que le PS/2 fonctionne par interruption (interrupt). En attente active, l'ordinateur auquel le clavier est connecté écoute à intervalles réguliers (par défaut 125 fois par seconde en USB, d'où le taux de polling de 125 Hz) si le clavier envoie des données ; à l'inverse, un clavier fonctionnant par interruption envoie ses données immédiatement qui sont reçues sans délai par l'ordinateur.

C'est ce qui fait dire par facilité qu'un clavier PS/2 a moins de latence ou est plus réactif qu'un clavier USB : en PS/2 la frappe est transmise sans délai, alors qu'il peut être de 8 ms en USB (et peut descendre à 1 ms lorsque l'USB fonctionne à 1000 Hz). Si vous pensez que ces quelques millisecondes ont une réelle importance en jeu, commencez par mesurer votre réactivité, et voyez ensuite si ces 8 ms pèsent lourd par rapport à votre propre temps de réaction.

#### Alimentation électrique

La dernière différence notable entre PS/2 et USB concerne l'intensité du courant qu'ils sont capables de transmettre : l'interface PS/2 peut fournir 275 mA en 5 V, alors que l'USB 2.0 peut fournir 500 mA (et jusqu'à 900 mA pour l'USB 3.0). Typiquement, un microcontrôleur (et donc un clavier sans rétroéclairage) ne consomme que quelques mA (entre 5 et 20 mA pour un µC AVR), mais un rétroéclairage complet peut consommer bien plus. L'USB est globalement plus adapté pour les claviers rétroéclairés, mais quelques rares claviers proposent une connexion PS/2 pour l'envoi de données avec un connecteur USB à brancher en parallèle (où seuls les contacts d'alimentation sont actifs) pour alimenter le rétroéclairage.

### Boucing et chattering

Le bouncing, ou chattering, est un phénomène propre aux switchs à contact qui fait que lorsque ceux-ci sont enfoncés, leurs contacts, faits de métal souple, rebondissent l'un contre l'autre (bounce) avant de s'immobiliser et d'assurer le contact électrique. Le phénomène est très bref, mais suffisant pour être détectable par un microcontrôleur vérifiant plusieurs milliers de fois par seconde l'état des switchs qui y sont connectés.

Appliqué à un clavier, ce phénomène entraîne la prise en compte de plusieurs frappes successives (chatter) lorsque vous appuyez même brièvement sur une touche. Pour éviter ce problème, le firmware du clavier comprend en général un buffer qui stocke les dernières frappes enregistrées, les compare, et n'en prend en compte qu'une seule s'il en détecte plusieurs identiques sur un laps de temps donné (ce qu'on appelle le debouncing, ici réalisé de façon software).

Par exemple, Cherry indique pour ses switchs MX un temps de bounce inférieur ou égal à 5 ms ; en conséquence, la plupart des firmwares de claviers les utilisant prévoient un debounce de 7-10 ms, qui délaie d'autant la prise en compte effective de la frappe (délai insensible en pratique). En cas de switch défectueux ayant des contacts produisant plus de chatter que ce que le firmware est programmé pour empêcher, il faudra soit augmenter le debounce du firmware (ce que les claviers permettent très rarement), soit remplacer le switch fautif par un autre.

Par nature, les switchs sans contact, par exemple les switches capacitifs Topre, ne sont pas affectés par ce problème.
